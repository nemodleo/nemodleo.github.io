---
title: "Test Post 2_ example"
date: 2019-04-29 15:53:30 -0400
categories: jekyll update
---
_________

​```assembly
.ORIG x3000
START   AND R1, R1, #0
    AND R2, R2, #0
    AND R3, R3, #0
    AND R4, R4, #0
    AND R5, R5, #0
    AND R6, R6, #0
INPUT_NUM   GETC
    OUT ;;
    ADD R4, R0, #0
    LD R0, EXIT
    ADD R0, R4, R0
    BRz EXIT_TERM
    LD R0, SUB_C
    ADD R0, R4, R0
    BRnp IF_NUM_ALL
IF_NUM_NEG  ADD R5, R5, #-1
    GETC
    OUT ;;
    ADD R4, R0, #0
IF_NUM_ALL  LD R3, INVERSE_ASCII_OFFSET
    ADD R6, R4, R3
INPUT_NUM_ING   GETC
    OUT ;;
    ADD R4, R0, #0 
    LD R0, ADD_C
    ADD R0, R4, R0
    BRz ADD_con
    LD R0, SUB_C
    ADD R0, R4, R0
    BRz SUB_con
    LD R0, MUL_C
    ADD R0, R4, R0
    BRz MUL_con
    LD R0, DIV_C
    ADD R0, R4, R0
    BRz DIV_con
    LD R0, REM_C
    ADD R0, R4, R0
    BRz REM_con
    LD R0, ENT_C
    ADD R0, R4, R0
    BRz INPUT_DONE
    ADD R1, R6, #0
    AND R2, R2, #0
    ADD R2, R2, #10
    JSR MULc
    LD R0, INVERSE_ASCII_OFFSET
    ADD R4, R4, R0
    ADD R6, R3, R4
    BR INPUT_NUM_ING
INPUT_NUM_NEG   ADD R5, R5, #1
    BRnp INPUT_NUM_NEG_RETRUN
    NOT R6, R6
    ADD R6, R6, #1
INPUT_NUM_NEG_RETRUN    RET
ADD_con LD R0, n1
    BR INPUT_NEXT
SUB_con LD R0, n2
    BR INPUT_NEXT
MUL_con LD R0, n3
    BR INPUT_NEXT
DIV_con LD R0, n4
    BR INPUT_NEXT
REM_con LD R0, n5
    BR INPUT_NEXT
INPUT_NEXT  ST R0, oper
    JSR INPUT_NUM_NEG
    ST R6, NUMBER1
    AND R5, R5, #0
    BR INPUT_NUM
INPUT_DONE  JSR INPUT_NUM_NEG
    LD R1, NUMBER1
    LD R2, oper
    LD R0, n1b
    ADD R0, R2, R0
    BRz ADD_oper
    LD R0, n2b
    ADD R0, R2, R0
    BRz SUB_oper
    LD R0, n3b
    ADD R0, R2, R0
    BRz MUL_oper
    LD R0, n4b
    ADD R0, R2, R0
    BRz DIV_oper
    LD R0, n5b
    ADD R0, R2, R0
    BRz REM_oper
ADD_oper    ADD R3, R6, R1
    BR PRINT
SUB_oper    NOT R6, R6
    ADD R6, R6, #1
    ADD R3, R6, R1
    BR PRINT
MUL_oper    ADD R2, R6, #0
    JSR MULc
    BR PRINT
DIV_oper    ADD R2, R6, #0
    BRz ERROR
    JSR DIVandREM
    BR PRINT
REM_oper    ADD R2, R6, #0
    BRz ERROR
    JSR DIVandREM
    ADD R3, R4, #0
    BR PRINT
SUB_C .FILL #-45
ADD_C .FILL #-43
MUL_C .FILL #-42
DIV_C .FILL #-47
REM_C .FILL #-37
ENT_C .FILL #-10
INVERSE_ASCII_OFFSET .fill #-48
ASCII_OFFSET .fill #48
NUMBER1 .fill #0
oper .fill #0
n1 .fill #1
n2 .fill #2
n3 .fill #3
n4 .fill #4
n5 .fill #5
n1b .fill #-1
n2b .fill #-2
n3b .fill #-3
n4b .fill #-4
n5b .fill #-5
EXIT .fill #-101
START1  BR START
EXIT_TERM   HALT
ERROR   LEA R0, ERROR_MESSAGE
    PUTS
    BR START1
PRINT   ADD R3, R3, #0
    BRp PRINT_P
    BRn PRINT_N
    BRz dlfEo0
PRINTn32768 LD R0, SUBc
    OUT
    LD R0, SPECIALN3
    OUT
    LD R0, SPECIALN2
    OUT
    LD R0, SPECIALN7
    OUT
    LD R0, SPECIALN6
    OUT
    LD R0, SPECIALN8
    OUT
    BR PRINT_RESULT
PRINT_N LD R0, SPECIALNn
    ADD R0, R3, R0
    ADD R0, R0, #1
    BRz PRINTn32768
    NOT R3, R3
    ADD R3, R3, #1
    LD R0, SUBc
    OUT
PRINT_P ADD R1, R3, #0
    LD R5, ASCII_OFFSET
    LD R0, Nn10000
    ADD R0, R3, R0
    BRzp wkfl10000
    LD R0, Nn1000
    ADD R0, R3, R0
    BRzp wkfl1000
    LD R0, Nn100
    ADD R0, R3, R0
    BRzp wkfl100
    LD R0, Nn10
    ADD R0, R3, R0
    BRzp wkfl10
    BR wkfl1
wkfl10000   LD R2, N10000
    JSR DIVandREM
    ADD R0, R3, R5
    OUT
    ADD R1, R4, #0
wkfl1000    LD R2, N1000
    JSR DIVandREM
    ADD R0, R3, R5
    OUT
    ADD R1, R4, #0
wkfl100 LD R2, N100
    JSR DIVandREM
    ADD R0, R3, R5
    OUT
    ADD R1, R4, #0
wkfl10  LD R2, N10
    JSR DIVandREM
    ADD R0, R3, R5
    OUT
    ADD R1, R4, #0
wkfl1   LD R2, N1
    JSR DIVandREM
    ADD R0, R3, R5
    OUT
PRINT_RESULT    LD R0, enterprint
    OUT
    BR START1
dlfEo0 LD R0, ASCII_OFFSET
    OUT
    BR PRINT_RESULT
MULc    AND R0, R0, #0
    AND R3, R3, #0
    ADD R1, R1, #0
    BRp MUL_NUM2
    BRz MUL_zero
    NOT R1, R1
    ADD R1, R1, #1
    ADD R0, R0, #-1 
MUL_NUM2    ADD R2, R2, #0
    BRp MUL_CAL
    BRz MUL_zero
    NOT R2, R2
    ADD R2, R2, #1
    ADD R0, R0, #-1
MUL_CAL ADD R3, R3, R1
    ADD R2, R2, #-1
    BRp MUL_CAL
    ADD R0, R0, #1
    BRnp MUL_RESULT
    NOT R3, R3
    ADD R3, R3, #1
MUL_RESULT  RET
MUL_zero    ADD R3, R3, #0
    BR MUL_RESULT
DIVandREM   AND R3, R3, #0
    ADD R1, R1, #0
    BRp A
    BRn B
    BRz C
A   ADD R2, R2, #0
    BRzp C1
    BRn C2
B   ADD R2, R2, #0
    BRzp C3
    BRn C4
C   AND R4, R4, #0
    BR RESULT
C1  ADD R3, R3, #-1
    NOT R2, R2
    ADD R2, R2, #1
C1_LOOP ADD R3, R3, #1
    ADD R1, R1, R2
    BRzp C1_LOOP
    NOT R2, R2
    ADD R2, R2, #1
    ADD R4, R1, R2
    BR RESULT
C2  ADD R3, R3, #-1
C2_LOOP ADD R3, R3, #1
    ADD R1, R1, R2
    BRzp C2_LOOP
    NOT R2, R2
    ADD R2, R2, #1
    ADD R4, R1, R2
    NOT R3, R3
    ADD R3, R3, #1
    BR RESULT
C3
C3_LOOP ADD R3, R3, #1
    ADD R1, R1, R2
    BRn C3_LOOP
    ADD R4, R1, #0
    NOT R3, R3
    ADD R3, R3, #1
    BR RESULT
C4  NOT R2, R2
    ADD R2, R2, #1
C4_LOOP ADD R3, R3, #1
    ADD R1, R1, R2
    BRn C4_LOOP
    ADD R4, R1, #0
    BR RESULT
RESULT  RET
N0 .FILL #0
;N1 .FILL #1
N10 .FILL #10
N100 .FILL #100
N1000 .FILL #1000
N10000 .FILL #10000
Nn1 .FILL #-1
Nn10 .FILL #-10
Nn100 .FILL #-100
Nn1000 .FILL #-1000
Nn10000 .FILL #-10000
SPECIALNn .FILL #32767  
SPECIALN3 .FILL #51
SPECIALN2 .FILL #50
SPECIALN7 .FILL #55
SPECIALN6 .FILL #54
SPECIALN8 .FILL #56
SUBc .FILL #45
enterprint .FILL #10
ERROR_MESSAGE .STRINGZ "ERROR\n"
NUM1_C .FILL #0
.END
​```


[jekyll-docs]: https://jekyllrb.com/docs/home
[jekyll-gh]:   https://github.com/jekyll/jekyll
[jekyll-talk]: https://talk.jekyllrb.com/
